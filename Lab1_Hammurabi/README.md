# 1 лабораторная (Хаммурапи)
## Реализация
### Структуры
```
City: содержит ресурсы города
Gameplay: содержит псевдо-рандомные поля игрового процесса и статистику
PlayerDecision: содержит данные, вводимые игроком во время каждого раунда
```

### Константы
Константы, используемые в качестве граничных значений и коэффициентов вынесены в начало кода
```
const float kMinRatCoef = 0.0f;
const float kMaxRatCoef = 0.07f;
const int kMinRipeWheatBushelsPerAcre = 1;
const int kMaxRipeWheatBushelsPerAcre = 6;
const int kMinAcrePrice = 17;
const int kMaxAcrePrice = 26;
const int kMaxAcresPerCitizen = 10;
const int kWheatBushelsPerCitizen = 20;
const float kWheatBushelsToPlantPerAcre = 0.5f;
const float kDeathPercentToLose = 0.45f;
const float kPlagueChance = 0.15f;
const int kReignLenth = 10;
```

### Логика игры
Для псевдо-рандомной генерации чисел был использован std::default_random_engine.
Все логика игры разделена не несколько функций:
```
// Вычисление псевдо-рандомных значений и изменение количества ресурсов для последующего вывода статистики советником
void CalculateResourcesAndEvents(City& city, Gameplay& gameplay, PlayerDecision& decision);

// Доклад советника с собранной статистикой
void AdviserReport(City& city, Gameplay& gameplay);

// Шаблонный ввод переменной
template <typename T> void InputVar(T& input);

// Ввод решений игрока в каждом раунде
void InputPlayerDecision(City& city, Gameplay& gameplay, PlayerDecision& decision);

// Вывод результата качества правления игрока
void SummarizeReign(City& city, Gameplay& gameplay);

// Сохранить прогресс в файл
void SaveGame(City& city, Gameplay& gameplay);

// Загрузить прогресс из файла
void LoadGame(City& city, Gameplay& gameplay);

// Правая часть строки, разделенной с помощью разделителя
std::string SplitStringRightPart(std::string strToSplit, const char delimeter)
```

## Пример вывода программы (сохранение сделано на этом примере)
```
Повелитель, желаешь продолжить сохранённую игру? (1 - Да, 0 - Нет): 0
Мой повелитель, твоё правление начинается
Население города составляет 100 человек;
В амбарах лежит 2800 бушелей пшеницы;
Город занимает 1000 акров;
1 акр земли стоит сейчас 24 бушель.

Что пожелаешь, повелитель?
Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? (Для выживания жителю необходимо 20 бушелей; всего 2000) 2000
Сколько акров земли повелеваешь засеять? (На один акр расходуется 0.5 бушеля пшеницы) 1000

Мой повелитель, соизволь поведать тебе
в 1 году  твоего высочайшего правления
0 человек умерли с голоду, и 11 человек прибыли в наш великий город;
Население города сейчас составляет 111 человек;
Мы собрали 3000 бушелей пшеницы, по 3 бушеля с акра;
Крысы истребили 25 бушелей пшеницы, оставив 3275 бушеля в амбарах;
Город сейчас занимает 1000 акров;
1 акр земли стоит сейчас 19 бушель.

Что пожелаешь, повелитель?
Желаешь ли на время прервать игру? (1 - Да, 0 - Нет) 0
Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? (Для выживания жителю необходимо 20 бушелей; всего 2220) 2220
Сколько акров земли повелеваешь засеять? (На один акр расходуется 0.5 бушеля пшеницы) 1000

Мой повелитель, соизволь поведать тебе
в 2 году  твоего высочайшего правления
0 человек умерли с голоду, и 0 человек прибыли в наш великий город;
Население города сейчас составляет 111 человек;
Мы собрали 6000 бушелей пшеницы, по 6 бушеля с акра;
Крысы истребили 255 бушелей пшеницы, оставив 6300 бушеля в амбарах;
Город сейчас занимает 1000 акров;
1 акр земли стоит сейчас 17 бушель.

Что пожелаешь, повелитель?
Желаешь ли на время прервать игру? (1 - Да, 0 - Нет) 0
Сколько акров земли повелеваешь купить? 110
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? (Для выживания жителю необходимо 20 бушелей; всего 2220) 2220
Сколько акров земли повелеваешь засеять? (На один акр расходуется 0.5 бушеля пшеницы) 1110

Мой повелитель, соизволь поведать тебе
в 3 году  твоего высочайшего правления
0 человек умерли с голоду, и 17 человек прибыли в наш великий город;
Население города сейчас составляет 128 человек;
Мы собрали 3330 бушелей пшеницы, по 3 бушеля с акра;
Крысы истребили 128 бушелей пшеницы, оставив 4857 бушеля в амбарах;
Город сейчас занимает 1110 акров;
1 акр земли стоит сейчас 22 бушель.

Что пожелаешь, повелитель?
Желаешь ли на время прервать игру? (1 - Да, 0 - Нет) 0
Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? (Для выживания жителю необходимо 20 бушелей; всего 2560) 2560
Сколько акров земли повелеваешь засеять? (На один акр расходуется 0.5 бушеля пшеницы) 1110

Мой повелитель, соизволь поведать тебе
в 4 году  твоего высочайшего правления
0 человек умерли с голоду, и 19 человек прибыли в наш великий город;
Население города сейчас составляет 147 человек;
Мы собрали 1110 бушелей пшеницы, по 1 бушеля с акра;
Крысы истребили 35 бушелей пшеницы, оставив 2817 бушеля в амбарах;
Город сейчас занимает 1110 акров;
1 акр земли стоит сейчас 19 бушель.

Что пожелаешь, повелитель?
Желаешь ли на время прервать игру? (1 - Да, 0 - Нет) 0
Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? (Для выживания жителю необходимо 20 бушелей; всего 2940) 2000
Сколько акров земли повелеваешь засеять? (На один акр расходуется 0.5 бушеля пшеницы) 1110

Мой повелитель, соизволь поведать тебе
в 5 году  твоего высочайшего правления
47 человек умерли с голоду, и 35 человек прибыли в наш великий город;
Население города сейчас составляет 135 человек;
Мы собрали 3330 бушелей пшеницы, по 3 бушеля с акра;
Крысы истребили 20 бушелей пшеницы, оставив 3572 бушеля в амбарах;
Город сейчас занимает 1110 акров;
1 акр земли стоит сейчас 17 бушель.

Что пожелаешь, повелитель?
Желаешь ли на время прервать игру? (1 - Да, 0 - Нет) 1
```
